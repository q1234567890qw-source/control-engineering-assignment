# 제어공학 과제 
**학번:** 2023732001  
**이름:** 임동현 

# 5주차 1차시 강의 요약
### 주제: 상태변수(State Variables)와 상태공간방정식(State Space Equation)

---

## 1. 상태변수의 개념
상태변수(State Variable)는 시스템의 현재 상태를 완전히 표현할 수 있는 최소 개수의 변수이며, 시스템은 입력(Input) → 상태(State) → 출력(Output)의 구조로 이루어진다. 입력이 상태를 변화시키고, 상태는 출력으로 반영된다. 즉, 상태변수는 시스템의 내부 동작을 수학적으로 나타내는 핵심적인 역할을 한다.

---

## 2. 예제 1: 질량–스프링–댐퍼 시스템
구성요소: 질량 M, 스프링 상수 k, 감쇠 계수 b, 외력 r(t).  
운동방정식은 M(d²y/dt²) + b(dy/dt) + k·y = r(t) 이며, 상태변수는 x₁(t)=y(t), x₂(t)=dy/dt로 둔다.  
이에 따라 상태방정식은 dx₁/dt=x₂, dx₂/dt=-(b/M)x₂-(k/M)x₁+(1/M)r(t), 출력 y(t)=x₁(t)로 표현된다.  
즉, 2차 미분방정식을 1차식 두 개로 분리해 상태공간 형태로 나타낸 것이다.

---

## 3. 예제 2: R–L–C 회로
RLC 회로는 전류원 u(t), 인덕터 L, 저항 R, 커패시터 C로 구성된다.  
상태변수는 x₁(t)=커패시터 전압 v_c(t), x₂(t)=인덕터 전류 i_L(t)로 정의한다.  
전류법칙(KCL): u(t)=C(dx₁/dt)+x₂ → dx₁/dt=(1/C)(-x₂+u).  
전압법칙(KVL): L(dx₂/dt)+R·x₂-x₁=0 → dx₂/dt=(1/L)(x₁-R·x₂).  
출력은 y(t)=R·x₂(t)로 표현된다.

---

## 4. 1차 상태미분방정식
기본형은 dx/dt=a·x+b·u 이고, 라플라스 변환 시 X(s)=(1/(s−a))x(0)+(1/(s−a))bU(s)로 표현된다.  
시간영역 해는 x(t)=e^(a·t)x(0)+∫₀ᵗ e^(a(t−τ))b·u(τ)dτ이며, 첫 번째 항은 초기상태의 영향, 두 번째 항은 입력의 영향을 의미한다.

---

## 5. 상태공간방정식의 일반형
상태벡터 x(t)=[x₁, x₂, …, xₙ]ᵀ로 정의하면, dx/dt=A·x+B·u, y=C·x+D·u로 표현된다.  
예를 들어 RLC 회로에서 A=[[0,−1/C],[1/L,−R/L]], B=[[1/C],[0]], C=[0,R], D=0 이다.  
이 행렬식 형태를 통해 복잡한 시스템을 간결하게 표현할 수 있다.

---

## 6. 상태전이행렬
정의: Φ(s)=[sI−A]⁻¹, Φ(t)=L⁻¹{Φ(s)}.  
일반해는 x(t)=Φ(t)x(0)+∫₀ᵗ Φ(t−τ)B·u(τ)dτ로 나타내며, Φ(t)는 시간에 따른 상태변화를 의미한다.

---

## 7. 예제 3.1: 2질량 카트 시스템
질량 M₁, M₂, 스프링 k₁, k₂, 감쇠 b₁, b₂로 구성된다.  
운동방정식: M₁·p¨=u−b₁(p˙−q˙)−k₁(p−q), M₂·q¨=b₁(p˙−q˙)+k₁(p−q)−b₂·q˙−k₂·q.  
상태벡터 x(t)=[p, q, p˙, q˙]ᵀ, 상태방정식은 다음과 같다.  
dx/dt=[[0,0,1,0],[0,0,0,1],[−k₁/M₁,k₁/M₁,−b₁/M₁,b₁/M₁],[k₁/M₂,−(k₁+k₂)/M₂,b₁/M₂,−(b₁+b₂)/M₂]]·x+[0,0,1/M₁,0]ᵀ·u.

---

## 8. MATLAB 시뮬레이션
```matlab
k1 = 150; k2 = 700;
b1 = 15; b2 = 30;
M1 = 5; M2 = 20;

A = [0 0 1 0;
     0 0 0 1;
     -k1/M1 k1/M1 -b1/M1 b1/M1;
      k1/M2 -(k1+k2)/M2 b1/M2 -(b1+b2)/M2];
B = [0; 0; 1/M1; 0];
C = [1 0 0 0];
D = 0;

sys = ss(A,B,C,D);
x0 = [0.1 0 0 0];
initial(sys, x0, [0 5]);

